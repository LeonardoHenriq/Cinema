<app-titulo [titulo]="'Sessões'"></app-titulo>
<!--
  <div class="form-inline">
    <div class="form-group mb-2">
      <label class="mr-2">Filtro:</label>
      <input type="text" class="form-control mr-2" [(ngModel)]="filtroLista" placeholder="buscar">
    </div>
  </div>
-->
<table class="table table-striped table-hover table-responsive">
  <thead class="thead-dark">
    <th>#</th>
    <th>Filme</th>
    <th>Duração</th>
    <th>Data da Sessão</th>
    <th>Inicio</th>
    <th>Final</th>
    <th>Valor do Ingresso</th>
    <th>Tipo da Animação</th>
    <th>Tipo Audio</th>
    <th>Sala</th>
    <th>Operações</th>
  </thead>
  <tbody *ngIf="sessoes && sessoes.length">
    <tr *ngFor="let sessao of sessoes">
      <td>{{sessao.id}}</td>
      <td>{{sessao.filme?.titulo}}</td>
      <td>{{sessao.filme?.duracao}}</td>
      <td>{{sessao.dataSessao | date:"dd/MM/yyyy"}}</td>
      <td>{{sessao.horarioInicial | date:"HH:mm"}}</td>
      <td>{{sessao.horarioFinal | date:"HH:mm"}}</td>
      <td>{{sessao.valorIngresso | currency}}</td>
      <td>{{sessao.tipoAnimacao}}</td>
      <td>{{sessao.tipoAudio}}</td>
      <td>{{sessao.sala?.nome}}</td>
      <td>
        <button type="button" class="btn btn-outline-danger btn-sm" tooltip="Excluir" (click)="openModal(template)">
          <i class="fa fa-trash"></i>
        </button>
      </td>
    </tr>
  </tbody>
  <tfoot *ngIf="!sessoes.length">
    <tr>
      <td colspan="8" class="text-center"><h4>Nenhuma Sessão encontrado</h4></td>
    </tr>
  </tfoot>
</table>


<ng-template #template>
  <div class="modal-body text-center">
    <p>Tem certeza que quer excluir uma Sessão?</p>
    <button type="button" class="btn btn-default" (click)="confirm()" >Sim</button>
    <button type="button" class="btn btn-primary" (click)="decline()" >Não</button>
  </div>
</ng-template>
